<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>

        * { padding: 0; margin: 0; }
        li { list-style: none; }
        img { border: none; }
        
        body { background: #ecfaff; }
        
        #play { width: 470px; height: 150px; overflow: hidden; border: 1px solid #d8d8d8; margin: 100px auto 0; }
        .packet { width:470px; height: 150px; position: relative; overflow:-hidden;}
        ol { position: absolute; right: 5px; bottom: 5px; z-index: 2; }
        ol li { float: left; margin-right: 3px; display: inline; cursor: pointer; background: #fcf2cf; border: 1px solid #f47500; padding: 2px 6px; color: #d94b01; font-family: arial; font-size: 12px; }
        .active { padding: 3px 8px; font-weight: bold; color: #ffffff; background: #ffb442; position: relative; bottom: 2px; }
        
        ul { position: absolute; top: 0px; left: 0px; z-index: 1; background:white; width: 470px; height: 150px; }
        ul li { position:relative; width: 470px; height: 150px; top:0px; left:0px; }
        ul img { float: left; width: 470px; height: 150px; }
    </style>
</head>
<body>
    <div id="play">
        <div class="packet"><!-- 为了消除offsetXXX的兼容性问题 -->
            <ol>
                <li class="active">1</li>
                <li>2</li>
                <li>3</li>
                <li>4</li>
                <li>5</li>
            </ol>
            <ul>
                <li><a href="http://www.miaov.com/"><img src="img/1.jpg" alt="广告一" /></a></li>
                <li><a href="http://www.miaov.com/"><img src="img/2.jpg" alt="广告二" /></a></li>
                <li><a href="http://www.miaov.com/"><img src="img/3.jpg" alt="广告三" /></a></li>
                <li><a href="http://www.miaov.com/"><img src="img/4.jpg" alt="广告四" /></a></li>
                <li><a href="http://www.miaov.com/"><img src="img/5.jpg" alt="广告五" /></a></li>
            </ul>
        </div>
    </div>
    <script src="../jquery.js"></script>  
    <script>
       var $oLi=$('ol li');
       var timer=null;
       var iNow=0;
        $oLi.mouseover(function(){
                $oLi.attr('class','');
                $(this).attr('class','active');
                var index=$(this).index();
                $('ul').stop().animate({top:-150*index},1000)
        })
        $('#play').mouseover(function(){
            clearInterval(timer)
        }).mouseout(function(){
            timer=setInterval(toRun,2000)
        })
        timer=setInterval(toRun,2000)

        function toRun(){
            if(iNow==$oLi.length-1){
                iNow=0;
            }else{
                iNow++
            }
            $oLi.attr('class','');
            $oLi.eq(iNow).attr('class','active'); 
            $('ul').stop().animate({top:-150*iNow},1000)
        }


    </script>
</body>
</html>